---
import { type CollectionEntry, getCollection, render } from "astro:content";

import Thesis from "@/layouts/thesis.astro";

export async function getStaticPaths() {
  const theses = await getCollection("tortenelem");

  return theses.map((thesis) => ({
    params: { slug: thesis.id },
    props: thesis,
  }));
}

type Props = CollectionEntry<"tortenelem">;

const thesis = Astro.props;
const { Content, headings } = await render(thesis);
---

<Thesis thesis={thesis} type="tortenelem" headings={headings}>
  <Content />
</Thesis>
